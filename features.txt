- Implement subset of IERange: conversion to and from startContainer/offset and endContainer/offset and TextRange
- Obtain all text nodes within a selection, splitting at the boundaries if necessary
- Create range command object with undo method
- Method to test if all the text nodes in a range have a particular characteristic, including built-ins such as
  being contained within a span of a particular class
- input and textarea selection boundary positions, get and set
- Save/restore selection when DOM may change
- Everything must work in iframes: window parameter
- Methods to get selections ranges, get first selection range, create range, get selection (plus is backwards),
  select range, empty range, insert node at range boundary, insert HTML at range boundary
- Extended selection (and Range?) objects


Features
--------

- Surround all text nodes with span with class, remove class, test for class. Generalise to any action on text nodes
  within a selection.
  Question: http://stackoverflow.com/questions/2887101/apply-style-to-range-of-text-with-javascript-in-uiwebview/2888969#2888969
  Requires:
    - get text nodes in selection
    - range intersects node
    - range boundaries as node/offsets

- Insert node/HTML (with ability to select or place caret before or after inserted node)
  Question: http://stackoverflow.com/questions/2213376/how-to-find-cursor-position-in-a-contenteditable-div/2213514#2213514

- Text area/text input selectionStart/End, get and set
  Question: http://stackoverflow.com/questions/3053542/how-to-get-the-start-and-end-points-of-selection-in-text-area/3053640#3053640

- Save/restore selection. See selections demo.

- Get range start/end container element

- Get element text

- Test empty selections?


References:

http://mozile.mozdev.org/0.8/doc/jsdoc/overview-summary-InternetExplorerRange.js.html
http://mozile.mozdev.org/0.8/doc/jsdoc/overview-summary-InternetExplorerSelection.js.html
http://code.google.com/p/ierange/source/browse/trunk/ierange.js
http://closure-library.googlecode.com/svn/docs/closure_goog_dom_abstractrange.js.source.html