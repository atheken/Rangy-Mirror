<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
    <script type="text/javascript" src="../src/js/log4javascript.js"></script>
    <script type="text/javascript">
        var appender = new log4javascript.InPageAppender();
        log4javascript.getRootLogger().addAppender(appender);
        var log = log4javascript.getRootLogger();
        log4javascript.setShowStackTraces(true);
    </script>
    <script type="text/javascript" src="../src/js/rangy.js"></script>
    <script type="text/javascript" src="../src/js/textmutation.js"></script>
    <script type="text/javascript">
/*
        window.onload = function() {
            var s = document.getElementById("s");
            var i = document.getElementById("i");
            var s_text = s.firstChild, i_text = i.firstChild;
            log.info(rangy.createSelection(s, 2, i, 4));
            //rangy.createSelection(s, 2, i, 4);
        };
*/
        var cssClassMutator;

        rangy.addInitListener(function(rangy) {
            var s = document.getElementById("s");
            var i = document.getElementById("i");
            var s_text = s.firstChild, i_text = i.firstChild;
            rangy.createSelection(s_text, 2, i_text, 4);

            cssClassMutator = rangy.createCssClassMutator("test");
        });


    </script>
    <style type="text/css">
        span.test {
/*
            background-color: green;
*/
            border: solid green 1px;
            color: blue;
        }
    </style>
</head>
<body>
<div id="div" style="border: solid green 1px; padding: 5px;">
    <strong id="s">29 min:</strong> After that let-off, <i id="i">Portugal</i> tear down the other end and sow panic in the Brazilian defence.
</div>
<input type="button" value="Toggle class" onclick="cssClassMutator.toggleSelection();">

<p id="block-24"><strong>29 min:</strong> After that let-off, Portugal tear down the other end and sow panic in the Brazilian defence, Juan forced into a clusmy-looking tackle on Tiago, who tumbles theatrically. Portugal players howl for a penalty, the ref books Tiago for diving. </p><!-- Block 23 --><p id="block-23"><strong>28 min:</strong> Portugal switch off defensively, allowing Nilmar to collect a through-ball and shoot from eight yards. The keeper pushes it on to the psot and out! Great save. "Klose ..." blurts David Roberts. "... but no cigar."</p>

</body>
</html>